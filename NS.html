<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Newspaper Fee</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Baloo+Bhai+2:wght@800&display=swap');

        .mainframe{
            margin: auto;
            display: grid;
            width: 600px;
            height: 390px;
            border-radius: 10px;
            padding: 5px;
            grid-template-areas: 'titlebar titlebar' 'normalrateEntry weekendrateEntry' 'fromdate todate' 'calculateAmount calculateAmount' 'messageScreen messageScreen';
        }

        #titlebar{
            font-family: Baloo, 'Baloo Bhai 2', cursive;
            grid-area: titlebar;
            text-align: center;
            font-size: 60px;
        }

        #fromdate{
            font-family: Baloo, 'Baloo Bhai 2', cursive;
            grid-area: fromdate;
            border: none;
            cursor: pointer;
            margin-right: 5px;
            font-size: 20px;
            margin-top: 30px;
            text-align: center;
        }

        #todate{
            font-family: Baloo, 'Baloo Bhai 2', cursive;
            grid-area: todate;
            border: none;
            cursor: pointer;
            margin-left: 5px;
            font-size: 20px;
            margin-top: 30px;
            text-align: center;
        }

        #normalrateEntry{
            font-family: Baloo, 'Baloo Bhai 2', cursive;
            grid-area: normalrateEntry;
            border: none;
            background-color: aqua;
            margin-right: 5px;
            font-size: 20px;
            text-align: center;
            border-radius: 15px;
        }

        #normalrateEntry::placeholder{
            color: black;
        }

        #weekendrateEntry{
            font-family: Baloo, 'Baloo Bhai 2', cursive;
            grid-area: weekendrateEntry;
            border: none;
            background-color: aqua;
            margin-left: 5px;
            font-size: 20px;
            text-align: center;
            border-radius: 15px;
        }

        #weekendrateEntry::placeholder{
            color: black;
        }

        #calculateAmount{
            font-family: Baloo, 'Baloo Bhai 2', cursive;
            grid-area: calculateAmount;
            border: none;
            font-size: 25px;
            background-color: yellow;
            border-radius: 20px;
            cursor: pointer;
            margin-top: 30px;
        }

        #messageScreen{
            font-family: Baloo, 'Baloo Bhai 2', cursive;
            grid-area: messageScreen;
            border: none;
            font-size: 25px;
            text-align: center;
            margin-top: 10px;
        }
    </style>
</head>
<body>
    <div class="mainframe">
        <div id="titlebar">Newspaper Fee</div>
        <input type="text" id="normalrateEntry" placeholder="Daily Newspaper Rate in (₹)">
        <input type="text" id="weekendrateEntry" placeholder="Weekend Newspaper Rate in (₹)">
        <input type="date" id="fromdate" date-formart="dd-mm-yyyy">
        <input type="date" id="todate" date-formart="dd-mm-yyyy">
        <button id="calculateAmount">Calculate</button>
        <label id="messageScreen"></label>
    </div>
    <script>
        var mainrecord=new Array();
        var monthdata={
            'Jan':'01',
            'Feb':'02',
            'Mar':'03',
            'Apr':'04',
            'May':'05',
            'Jun':'06',
            'Jul':'07',
            'Aug':'08',
            'Sep':'09',
            'Oct':'10',
            'Nov':'11',
            'Dec':'12'
        }

        document.getElementById("calculateAmount").addEventListener('mousedown',()=>{
            document.getElementById("calculateAmount").style.border='2px solid black';
            
            var fromdatevalue=document.getElementById('fromdate').value;
            var todatevalue=document.getElementById('todate').value;

            fromdatevalue=fromdatevalue.split('-').reverse();
            todatevalue=todatevalue.split('-').reverse();

            const hugedate_dataset={1:31,2:28,3:31,4:30,5:31,6:30,7:31,8:31,9:30,10:31,11:30,12:31}

            var fromdatevalueyear=fromdatevalue[2];
            var todatevalueyear=todatevalue[2];
            
            var fromdatevaluemonth=fromdatevalue[1];
            var todatevaluemonth=todatevalue[1];
            
            var fromdatevalueday=fromdatevalue[0];
            var todatevalueday=todatevalue[0];

            var fromdatems=new Date(`${fromdatevaluemonth}-${fromdatevalueday}-${fromdatevalueyear}`);
            fromdatems=parseInt(fromdatems.getTime());

            var todatems=new Date(`${todatevaluemonth}-${todatevalueday}-${todatevalueyear}`);
            todatems=parseInt(todatems.getTime());

            var instance_date='';

            var i=0;
            while(instance_date!=`${todatevalueday}-${todatevaluemonth}-${todatevalueyear}`){
                var currms=new Date(fromdatems+i*24*3600*1000);
                k=currms.toDateString().split(' ')[2]+'-'+currms.toDateString().split(' ')[1]+'-'+currms.toDateString().split(' ')[3].split('-')
                k=k.split('-')
                k[1]=monthdata[k[1]]
                mainrecord.push(k.join('-'));
                instance_date=k.join('-');
                i+=1;
            };

            for (let tareekh = 0; tareekh < mainrecord.length; tareekh++) {
                var instancedate = mainrecord[tareekh];
                var instancedateis = mainrecord[tareekh].split('-').reverse().join('-');
                instancedateis=new Date(instancedateis);
                // console.log(instancedate,instancedateis.toDateString().split(' ')[0]);
                mainrecord[tareekh]=`${instancedate},${instancedateis.toDateString().split(' ')[0]}`;
            };

            var weekends=[];
            var nonweekends=[];

            mainrecord.forEach(x => {
                if(x.split(',')[1]=='Sat' | x.split(',')[1]=='Sun'){
                    weekends.push(x.split(',')[0]);
                }
                else
                {
                    nonweekends.push(x.split(',')[0]);
                }
            });

            // console.log(`Weekends count ${weekends.length}\nNonweekends count ${nonweekends.length}`);

            var normalrate=parseFloat(document.getElementById('normalrateEntry').value);
            var weekendrate=parseFloat(document.getElementById('weekendrateEntry').value);

            var money=weekends.length*weekendrate+nonweekends.length*normalrate;
            
            var message=`Pay ₹${money} to the Newspaper Boy.`;

            document.getElementById('messageScreen').innerText=message;
            money=0;

        });

        document.getElementById("calculateAmount").addEventListener('mouseup',()=>{
            document.getElementById("calculateAmount").style.border='none';
        });
    </script>
</body>
</html>

<!-- 8,22 -->